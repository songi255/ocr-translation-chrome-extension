(()=>{"use strict";let e=!1,t=!1;const o={sx:0,sy:0,ex:0,ey:0,devicePixelRatio:window.devicePixelRatio};let n=!1,s=!1;function u(n){n.preventDefault(),n.stopPropagation(),t?(o.ex=n.clientX,o.ey=n.clientY,document.removeEventListener("mousedown",u),document.removeEventListener("mousemove",c),document.body.style.cursor="auto",e=!1,t=!1,console.log(o),chrome.runtime.sendMessage({eventType:"request-operation",cropPos:Object.assign({},o)},(e=>{console.log("ocr text : "+e.text)}))):(t=!0,o.sx=n.clientX,o.sy=n.clientY,document.addEventListener("mousemove",c))}function c(e){e.stopPropagation(),o.ex=e.clientX,o.ey=e.clientY}document.addEventListener("mousedown",(o=>{2==o.button&&(n&&(o.preventDefault(),o.stopPropagation()),s=!0),0==o.button&&(n=!0),n&&s&&(e||(console.log(o.button),2===o.button&&(e=!0,t=!1,document.body.style.cursor="crosshair",document.addEventListener("mousedown",u))))})),document.addEventListener("mouseup",(e=>{2==e.button&&(s=!1),0==e.button&&(n=!1)}))})();